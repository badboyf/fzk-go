{
  "data": {
    "solutionArticle": {
      "__typename": "SolutionArticleNode",
      "author": {
        "__typename": "UserNode",
        "profile": {
          "__typename": "UserProfileNode",
          "realName": "åŠ›æ‰£å®˜æ–¹é¢˜è§£",
          "userAvatar": "https://assets.leetcode-cn.com/aliyun-lc-upload/users/leetcode-solution/avatar_1582018938.png",
          "userSlug": "leetcode-solution"
        },
        "username": "LeetCode-Solution"
      },
      "byLeetcode": true,
      "canEdit": false,
      "canEditReward": false,
      "canSee": true,
      "chargeType": "FREE",
      "content": "### ğŸ“º è§†é¢‘é¢˜è§£  \n![990. ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§.mp4](fa3c8d24-ca62-4a44-bff8-bae421e2838c)\n\n### ğŸ“– æ–‡å­—é¢˜è§£\n#### æ–¹æ³•ä¸€ï¼šå¹¶æŸ¥é›†\n\næˆ‘ä»¬å¯ä»¥å°†æ¯ä¸€ä¸ªå˜é‡çœ‹ä½œå›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæŠŠç›¸ç­‰çš„å…³ç³» `==` çœ‹ä½œæ˜¯è¿æ¥ä¸¤ä¸ªèŠ‚ç‚¹çš„è¾¹ï¼Œé‚£ä¹ˆç”±äºè¡¨ç¤ºç›¸ç­‰å…³ç³»çš„ç­‰å¼æ–¹ç¨‹å…·æœ‰ä¼ é€’æ€§ï¼Œå³å¦‚æœ `a==b` å’Œ `b==c` æˆç«‹ï¼Œåˆ™ `a==c` ä¹Ÿæˆç«‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰ç›¸ç­‰çš„å˜é‡å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†æ¥ç»´æŠ¤è¿™ç§è¿é€šåˆ†é‡çš„å…³ç³»ã€‚\n\né¦–å…ˆéå†æ‰€æœ‰çš„ç­‰å¼ï¼Œæ„é€ å¹¶æŸ¥é›†ã€‚åŒä¸€ä¸ªç­‰å¼ä¸­çš„ä¸¤ä¸ªå˜é‡å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡ï¼Œå› æ­¤å°†ä¸¤ä¸ªå˜é‡è¿›è¡Œåˆå¹¶ã€‚\n\nç„¶åéå†æ‰€æœ‰çš„ä¸ç­‰å¼ã€‚åŒä¸€ä¸ªä¸ç­‰å¼ä¸­çš„ä¸¤ä¸ªå˜é‡ä¸èƒ½å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡ï¼Œå› æ­¤å¯¹ä¸¤ä¸ªå˜é‡åˆ†åˆ«æŸ¥æ‰¾å…¶æ‰€åœ¨çš„è¿é€šåˆ†é‡ï¼Œå¦‚æœä¸¤ä¸ªå˜é‡åœ¨åŒä¸€ä¸ªè¿é€šåˆ†é‡ä¸­ï¼Œåˆ™äº§ç”ŸçŸ›ç›¾ï¼Œè¿”å› `false`ã€‚\n\nå¦‚æœéå†å®Œæ‰€æœ‰çš„ä¸ç­‰å¼æ²¡æœ‰å‘ç°çŸ›ç›¾ï¼Œåˆ™è¿”å› `true`ã€‚\n\n![fig1](https://assets.leetcode-cn.com/solution-static/990/990_fig1.gif){:width=\"90%\"}\n\nå…·ä½“å®ç°æ–¹é¢ï¼Œä½¿ç”¨ä¸€ä¸ªæ•°ç»„ `parent` å­˜å‚¨æ¯ä¸ªå˜é‡çš„è¿é€šåˆ†é‡ä¿¡æ¯ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ è¡¨ç¤ºå½“å‰å˜é‡æ‰€åœ¨çš„è¿é€šåˆ†é‡çš„çˆ¶èŠ‚ç‚¹ä¿¡æ¯ï¼Œå¦‚æœçˆ¶èŠ‚ç‚¹æ˜¯è‡ªèº«ï¼Œè¯´æ˜è¯¥å˜é‡ä¸ºæ‰€åœ¨çš„è¿é€šåˆ†é‡çš„æ ¹èŠ‚ç‚¹ã€‚ä¸€å¼€å§‹æ‰€æœ‰å˜é‡çš„çˆ¶èŠ‚ç‚¹éƒ½æ˜¯å®ƒä»¬è‡ªèº«ã€‚å¯¹äºåˆå¹¶æ“ä½œï¼Œæˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªå˜é‡çš„æ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡å‘ç¬¬äºŒä¸ªå˜é‡çš„æ ¹èŠ‚ç‚¹ï¼›å¯¹äºæŸ¥æ‰¾æ“ä½œï¼Œæˆ‘ä»¬æ²¿ç€å½“å‰å˜é‡çš„çˆ¶èŠ‚ç‚¹ä¸€è·¯å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°æ ¹èŠ‚ç‚¹ã€‚\n\n```Java [sol1-Java]\nclass Solution {\n    public boolean equationsPossible(String[] equations) {\n        int[] parent = new int[26];\n        for (int i = 0; i < 26; i++) {\n            parent[i] = i;\n        }\n        for (String str : equations) {\n            if (str.charAt(1) == '=') {\n                int index1 = str.charAt(0) - 'a';\n                int index2 = str.charAt(3) - 'a';\n                union(parent, index1, index2);\n            }\n        }\n        for (String str : equations) {\n            if (str.charAt(1) == '!') {\n                int index1 = str.charAt(0) - 'a';\n                int index2 = str.charAt(3) - 'a';\n                if (find(parent, index1) == find(parent, index2)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    public void union(int[] parent, int index1, int index2) {\n        parent[find(parent, index1)] = find(parent, index2);\n    }\n\n    public int find(int[] parent, int index) {\n        while (parent[index] != index) {\n            parent[index] = parent[parent[index]];\n            index = parent[index];\n        }\n        return index;\n    }\n}\n```\n\n```C++ [sol1-C++]\nclass UnionFind {\nprivate:\n    vector<int> parent;\n\npublic:\n    UnionFind() {\n        parent.resize(26);\n        iota(parent.begin(), parent.end(), 0);\n    }\n\n    int find(int index) {\n        if (index == parent[index]) {\n            return index;\n        }\n        parent[index] = find(parent[index]);\n        return parent[index];\n    }\n\n    void unite(int index1, int index2) {\n        parent[find(index1)] = find(index2);\n    }\n};\n\nclass Solution {\npublic:\n    bool equationsPossible(vector<string>& equations) {\n        UnionFind uf;\n        for (const string& str: equations) {\n            if (str[1] == '=') {\n                int index1 = str[0] - 'a';\n                int index2 = str[3] - 'a';\n                uf.unite(index1, index2);\n            }\n        }\n        for (const string& str: equations) {\n            if (str[1] == '!') {\n                int index1 = str[0] - 'a';\n                int index2 = str[3] - 'a';\n                if (uf.find(index1) == uf.find(index2)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n};\n```\n\n```Python [sol1-Python3]\nclass Solution:\n\n    class UnionFind:\n        def __init__(self):\n            self.parent = list(range(26))\n        \n        def find(self, index):\n            if index == self.parent[index]:\n                return index\n            self.parent[index] = self.find(self.parent[index])\n            return self.parent[index]\n        \n        def union(self, index1, index2):\n            self.parent[self.find(index1)] = self.find(index2)\n\n\n    def equationsPossible(self, equations: List[str]) -> bool:\n        uf = Solution.UnionFind()\n        for st in equations:\n            if st[1] == \"=\":\n                index1 = ord(st[0]) - ord(\"a\")\n                index2 = ord(st[3]) - ord(\"a\")\n                uf.union(index1, index2)\n        for st in equations:\n            if st[1] == \"!\":\n                index1 = ord(st[0]) - ord(\"a\")\n                index2 = ord(st[3]) - ord(\"a\")\n                if uf.find(index1) == uf.find(index2):\n                    return False\n        return True\n```\n\n```golang [sol1-Golang]\nfunc equationsPossible(equations []string) bool {\n    parent := make([]int, 26)\n    for i := 0; i < 26; i++ {\n        parent[i] = i\n    }\n    for _, str := range equations {\n        if str[1] == '=' {\n            index1 := int(str[0] - 'a')\n            index2 := int(str[3] - 'a')\n            union(parent, index1, index2)\n        }\n    }\n\n    for _, str := range equations {\n        if str[1] == '!' {\n            index1 := int(str[0] - 'a')\n            index2 := int(str[3] - 'a')\n            if find(parent, index1) == find(parent, index2) {\n                return false\n            }\n        }\n    }\n    return true\n}\n\nfunc union(parent []int, index1, index2 int) {\n    parent[find(parent, index1)] = find(parent, index2)\n}\n\nfunc find(parent []int, index int) int {\n    for parent[index] != index {\n        parent[index] = parent[parent[index]]\n        index = parent[index]\n    }\n    return index\n}\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n* æ—¶é—´å¤æ‚åº¦ï¼š$O(n+C \\log C)$ï¼Œå…¶ä¸­ $n$ æ˜¯ `equations` ä¸­çš„æ–¹ç¨‹æ•°é‡ï¼Œ$C$ æ˜¯å˜é‡çš„æ€»æ•°ï¼Œåœ¨æœ¬é¢˜ä¸­å˜é‡éƒ½æ˜¯å°å†™å­—æ¯ï¼Œå³ $C \\leq 26$ã€‚ä¸Šé¢çš„å¹¶æŸ¥é›†ä»£ç ä¸­ä½¿ç”¨äº†è·¯å¾„å‹ç¼©ä¼˜åŒ–ï¼Œå¯¹äºæ¯ä¸ªæ–¹ç¨‹çš„åˆå¹¶å’ŒæŸ¥æ‰¾çš„å‡æ‘Šæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ $O(\\log C)$ã€‚ç”±äºéœ€è¦éå†æ¯ä¸ªæ–¹ç¨‹ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n+C \\log C)$ã€‚\n\n* ç©ºé—´å¤æ‚åº¦ï¼š$O(C)$ã€‚åˆ›å»ºä¸€ä¸ªæ•°ç»„ `parent` å­˜å‚¨æ¯ä¸ªå˜é‡çš„è¿é€šåˆ†é‡ä¿¡æ¯ï¼Œç”±äºå˜é‡éƒ½æ˜¯å°å†™å­—æ¯ï¼Œå› æ­¤ `parent` æ˜¯é•¿åº¦ä¸º $C$ã€‚",
      "createdAt": "2020-06-07T13:23:53.579569+00:00",
      "hitCount": 34924,
      "identifier": "zUsTrP",
      "isEditorsPick": false,
      "isMostPopular": false,
      "isMyFavorite": false,
      "next": {
        "__typename": "BriefSolutionNode",
        "slug": "cbian-cheng-bing-cha-ji-union-find-suan-qqgsx",
        "title": "C++ç¼–ç¨‹ å¹¶æŸ¥é›† Union-Find ç®—æ³•"
      },
      "position": 1,
      "prev": null,
      "question": {
        "__typename": "QuestionNode",
        "questionTitleSlug": "satisfiability-of-equality-equations"
      },
      "reactionType": null,
      "reactionsV2": [
        {
          "__typename": "ReactionCountNode",
          "count": 94,
          "reactionType": "UPVOTE"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 10,
          "reactionType": "AWESOME"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 8,
          "reactionType": "CONFUSED"
        }
      ],
      "rewardEnabled": null,
      "slug": "deng-shi-fang-cheng-de-ke-man-zu-xing-by-leetcode-",
      "status": "PUBLISHED",
      "summary": "ğŸ“º è§†é¢‘é¢˜è§£ ğŸ“– æ–‡å­—é¢˜è§£ æ–¹æ³•ä¸€ï¼šå¹¶æŸ¥é›† æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸€ä¸ªå˜é‡çœ‹ä½œå›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæŠŠç›¸ç­‰çš„å…³ç³» == çœ‹ä½œæ˜¯è¿æ¥ä¸¤ä¸ªèŠ‚ç‚¹çš„è¾¹ï¼Œé‚£ä¹ˆç”±äºè¡¨ç¤ºç›¸ç­‰å…³ç³»çš„ç­‰å¼æ–¹ç¨‹å…·æœ‰ä¼ é€’æ€§ï¼Œå³å¦‚æœ a==b å’Œ b==c æˆç«‹ï¼Œåˆ™ a==c ä¹Ÿæˆç«‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰ç›¸ç­‰çš„å˜é‡å±äºåŒä¸€ä¸ªè¿é€šåˆ†é‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†æ¥ç»´æŠ¤è¿™ç§è¿é€šåˆ†é‡çš„å…³",
      "sunk": false,
      "tags": [
        {
          "__typename": "CommonTagNode",
          "name": "Union Find",
          "nameTranslated": "å¹¶æŸ¥é›†",
          "slug": "union-find",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Graph",
          "nameTranslated": "å›¾",
          "slug": "graph",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "C++",
          "nameTranslated": "",
          "slug": "cpp",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Go",
          "nameTranslated": "",
          "slug": "golang",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Java",
          "nameTranslated": "",
          "slug": "java",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Python",
          "nameTranslated": "",
          "slug": "python",
          "tagType": "LANGUAGE"
        }
      ],
      "thumbnail": "https://assets.leetcode-cn.com/solution-static/990/990_fig1.gif",
      "title": "ç­‰å¼æ–¹ç¨‹çš„å¯æ»¡è¶³æ€§",
      "topic": {
        "__typename": "TopicNode",
        "commentCount": 109,
        "id": 279091,
        "viewCount": 23713
      },
      "uuid": "zUsTrP",
      "videosInfo": [
        {
          "__typename": "VideoInfoNode",
          "coverUrl": "https://video.leetcode-cn.com/image/cover/F3B0977E94B242AFB814ED0812B39A13-6-2.png",
          "duration": 555.52,
          "videoId": "93e3fd333b9e4a9f82cdb532c72a340d"
        }
      ]
    }
  }
}
