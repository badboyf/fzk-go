{
  "data": {
    "solutionArticle": {
      "__typename": "SolutionArticleNode",
      "author": {
        "__typename": "UserNode",
        "profile": {
          "__typename": "UserProfileNode",
          "realName": "æå®¢å­¦é•¿Bravo",
          "userAvatar": "https://assets.leetcode-cn.com/aliyun-lc-upload/users/yanglr/avatar_1627565453.png",
          "userSlug": "yanglr"
        },
        "username": "yanglr"
      },
      "byLeetcode": false,
      "canEdit": false,
      "canEditReward": false,
      "canSee": true,
      "chargeType": "FREE",
      "content": "\n> æ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘çš„LeetCodeä»£ç ä»“åº“ï¼š[https://github.com/yanglr/leetcode-ac](https://github.com/yanglr/leetcode-ac), \n>\n> æ‰€æœ‰ä»£ç (å«æœ‰å„ç§ä¸»æµè¯­è¨€åŠShellã€SQLç­‰)å·²ä¸Šä¼ åˆ°æ­¤ä»“åº“ã€‚\n>\n> ç›®å‰å·²å®Œæˆçš„**450é“**é¢˜éƒ½æœ‰å®Œæ•´ç‰ˆC++ä»£ç ã€‚\n\n### å‡ ä¹æ‰€æœ‰é¢˜ç›®éƒ½ä¼šè¿½æ±‚ä¸€é¢˜å¤šè§£å’Œæœ€ä¼˜è§£æ³•ï¼ŒçœŸè¯šæ±‚starï¼\n\n\n![image.png](https://pic.leetcode-cn.com/1633227167-ASqSDC-image.png)\n\n\n\n## è§£é¢˜æ€è·¯\n\n**é¢˜æ„**: åŸæ•°ç»„ä¸­çš„ä»»æ„æ•°å¤„äºåŒºé—´[1 â‰¤ n â‰¤ $10^5$], è¦æ±‚åˆ é™¤ä¸€ä¸ªè¿ç»­çš„å­æ•°ç»„, ä½¿å¾—å‰©ä¸‹çš„æ•°çš„å’Œæ˜¯pçš„å€æ•°, å­˜åœ¨å°±è¿”å›å­æ•°ç»„çš„æœ€çŸ­é•¿åº¦, å¦åˆ™è¿”å›-1ã€‚\n\n<br>\n\n### æ–¹æ³•: å‰ç¼€å’Œ + å“ˆå¸Œè¡¨\n\nå¯ä»¥åŸºäºå‰ç¼€å’Œå’Œå“ˆå¸Œè¡¨æ¥åš, å‰ç¼€å’Œæ•°ç»„å–åpreSum, å“ˆå¸Œè¡¨å–ådictã€‚\n\nç”¨ rangeSum è¡¨ç¤ºè¦åˆ é™¤çš„å­æ•°ç»„çš„å’Œ, æ ¹æ®å‰ç¼€å’Œçš„å®šä¹‰å¯çŸ¥ `rangeSum == preSum[j] - preSum[i]` (å…¶ä¸­ i < j)ã€‚\n\né‚£ä¹ˆæœ¬é¢˜å¯ä»¥è½¬æ¢ä¸ºï¼šæ‰¾æ»¡è¶³ç­‰å¼ `(allSum - rangeSum) % p == 0 `ä¸­rangeSumå¯¹åº”åŒºé—´çš„æœ€çŸ­é•¿åº¦ã€‚\n\nå†ç”±**åŒä½™å®šç†**å¯çŸ¥: (allSum - rangeSum) % p == 0 <=> allSum % p = rangeSum % p = (preSum2 - preSum1) % p <=> (allSum + preSum1) % p = preSum2 % p\n\n\n\n**ä½†éœ€è¦æ³¨æ„çš„æ˜¯**: å½“%pä¹‹å‰çš„å’Œæ˜¯è´Ÿæ•°æ—¶è¦è®°å¾—åŠ ä¸Šp\n\n<br>\n\n\n**å…·ä½“çš„å®ç°æ­¥éª¤æ˜¯:**\nä½¿ç”¨ä¸€ä¸ªå˜é‡minLenå­˜å‚¨æœ€çŸ­çš„æ»¡è¶³è¦æ±‚çš„å­æ•°ç»„çš„é•¿åº¦ï¼Œ\nå°† ä»»æ„ä¸€ä¸ªå‰ç¼€å’Œ %p çš„ç»“æœå­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­, çœ‹åé¢æ˜¯å¦ä¼šé‡å¤å‡ºç°, å¦‚æœèƒ½é‡å¤å‡ºç°, å°±åœ¨ç¬¬ä¸€æ¬¡é‡å¤å‡ºç°æ—¶æ›´æ–° minLençš„å€¼ã€‚\nå¾ªç¯ç»“æŸæ—¶, åˆ¤æ–­minLenæ˜¯å¦æ˜¯åˆå§‹å€¼, å¦‚æœæ˜¯è¿”å›-1, å¦‚æœä¸æ˜¯, å°±è¿”å›å½“å‰ minLençš„å€¼ã€‚\n\n\n\n<br>\n\n### ä¸ºä»€ä¹ˆå“ˆå¸Œè¡¨éœ€è¦æ”¾å…¥é”®å€¼å¯¹{0, -1}?\n\n`rangeSum == preSum[j] - preSum[i]` (å…¶ä¸­ i < j)ã€‚\n\nå› ä¸ºæœ‰ä¸€ä¸ªç‰¹æ®Šæƒ…å½¢, å½“åŒºé—´å’Œ(rangeSum)å¯¹åº”çš„å‰ç¼€å’Œä¹‹å·®ä¸­è¢«å‡æ•°(å³è¿™é‡Œçš„`preSum[i]`)%på¾—åˆ°çš„ä½™æ•°æ˜¯0æ—¶, åŒºé—´çš„èµ·ç‚¹indexä¼šæˆä¸º0ã€‚æ­¤æ—¶çš„è¢«å‡æ•°å˜å¾—å¯æœ‰å¯æ— äº†, é•¿åº¦æŒ‰æ›´é•¿çš„ç®—, å³j+1æˆ–j-(-1)ã€‚\n\nä¸ºæ–¹ä¾¿èµ·è§ï¼Œä¸€èˆ¬å¯ä»¥æŠŠå“ˆå¸Œè¡¨ä¸­åŠ å…¥ä¸€ä¸ªé”®å€¼å¯¹ {0, -1}ï¼Œæœ‰åˆ©äºåé¢æ±‚åŒºé—´é•¿åº¦ã€‚\n\n***\n\nå¦å¤–, éœ€è¦æ³¨æ„çš„æ˜¯: å¯¹äºC++/Javaç­‰è¯­è¨€, è®°å¾—è¦é˜²æ­¢å¤§æ•´æ•°æº¢å‡º, æ¯”æˆ‘æˆ‘ç”¨C++å®ç°, æ±‚preSum æ—¶ä½¿ç”¨long longã€‚\n\n\n\n<br>\n\n\n\n#### å·² ACçš„C++ä»£ç \n\n```C++\nclass Solution {\npublic:\n    /* é¢˜æ„: 1 <= p <= 10^9 */\n    int minSubarray(vector<int>& nums, int p) {\n        long long allSum = 0;\n        for (auto& num : nums)\n            allSum += num;        \n        if (allSum < p) return -1;\n\n        int mod = 0;        \n        mod = allSum % p;\n        if (mod == 0) return 0;\n        unordered_map<int, int> dict; // dict: æŸä¸ªå‰ç¼€å’Œ%kå¾—åˆ°çš„ä½™æ•°->pos\n        dict[0] = -1;\n        const int len = nums.size();\n        int minLen = len;\n        long long preSum = 0;\n        for (int i = 0; i < len; i++)\n        {\n            preSum += nums[i];\n            int curMod = preSum % p;\n            int target = (curMod - mod + p) % p; /* è¿™é‡ŒcurMod - mod éœ€è¦ + pä½¿å…¶æˆä¸ºä¸€ä¸ª>pçš„æ•°, æ–¹ä¾¿åé¢æ±‚mod p */\n            if (dict.count(target))\n                minLen = min(minLen, i - dict[target]);\n            dict[curMod] = i; /* è®°å½•curModçš„æœ€åä¸€æ¬¡å‡ºç°æ—¶çš„index: ä¸è®ºæ­¤æ—¶å“ˆå¸Œè¡¨é‡Œé¢æœ‰æ²¡æœ‰curMod, éƒ½éœ€è¦æ›´æ–°å…¶index */\n        }\n        return minLen == len ? -1 : minLen;\n    }\n};\n```\n\n### è¿è¡Œç»“æœ:\n\n\n![image.png](https://pic.leetcode-cn.com/1633227443-nRmgRz-bb3013e987ed002d4bb898380d92e854.png)\n\nå›¾ç‰‡å¦‚æœçœ‹ä¸åˆ°, è¯·ç‚¹å‡»\n<https://pic.rmb.bdstatic.com/bjh/bb3013e987ed002d4bb898380d92e854.png> æŸ¥çœ‹ã€‚\n\n<br>\n\næ‰§è¡Œç”¨æ—¶ï¼š132 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº† **98.92%** çš„ç”¨æˆ·\nå†…å­˜æ¶ˆè€—ï¼š65 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº† **64.87%** çš„ç”¨æˆ·\n\n\n\n<br/>\n\n\nå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯**æå®¢å­¦é•¿**ï¼Œç‚¹å‡»[æˆ‘çš„å¤´åƒ](https://github.com/yanglr/leetcode-ac)ï¼ŒæŸ¥çœ‹åŠ›æ‰£è¯¦ç»†åˆ·é¢˜æ”»ç•¥ï¼Œä½ ä¼šå‘ç°ç›¸è§æ¨æ™šï¼\n\n\n**å¦‚æœæ„Ÿè§‰é¢˜è§£å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦åå•¬ç»™ä¸€ä¸ªğŸ‘å§ï¼**\n\n<br/>\n\n\nå¥½äº†ï¼Œ**ACä¸€æ—¶çˆ½ï¼Œä¸€ç›´ACä¸€ç›´çˆ½**ï¼\n\n<br/>\n\næœ¬äººå…¬ä¼—å· [å¤§ç™½æŠ€æœ¯æ§](https://mp.weixin.qq.com/s/d8RvIYtPOeGM2UOoP0xGkg), 2ä¸‡è¯»è€…ã€‚\n\nçŸ¥ä¹ [Bravo Yeung](https://www.zhihu.com/people/legege007), 4.5ä¸‡è¯»è€…ã€‚\n\nBç«™ [æå®¢å­¦é•¿å‘€](https://space.bilibili.com/1443957), åç»­ä¼šç”¨è§†é¢‘çš„å½¢å¼æ¥å¸¦å¤§å®¶åˆ·LeetCodeé¢˜ï¼Œæ¬¢è¿ç‚¹ä¸ªå…³æ³¨ï¼Œæ•¬è¯·æœŸå¾…~\n\n<br/>\n\næ›´å¤šæ¸…æ™°æ˜“æ‡‚çš„ä»£ç  (C++/Java/C#/Python/Go) çš„ LeetCode é¢˜è§£ï¼Œä¼šåœ¨æˆ‘çš„ github ä»“åº“ [https://github.com/yanglr/leetcode-ac](https://github.com/yanglr/leetcode-ac)ä¸­æŒç»­æ›´æ–°, æ¬¢è¿å°ä¼™ä¼´ä»¬ star/forkï¼Œå¦‚æœæœ‰ä¸é”™çš„è§£æ³•ä¹Ÿæ¬¢è¿æPRã€‚\n\n\n\n**ps:** ä»“åº“çš„ä»£ç ä¸­å¯ä»¥ç›´æ¥æ‹¿æ¥æœ¬åœ°è°ƒè¯•å–”ï¼Œæ¡†æ¶å·²æ­å¥½ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´ test caseå³å¯~\n\n<br>\n\n### ç±»ä¼¼çš„é¢˜:\n\n[leetcode 523. è¿ç»­çš„å­æ•°ç»„å’Œ](https://leetcode-cn.com/problems/continuous-subarray-sum/), å¿«å»æ‹¿ä¸‹å§ï¼ğŸ˜ ",
      "createdAt": "2021-10-03T02:00:23.105313+00:00",
      "hitCount": 393,
      "identifier": "WqrdgO",
      "isEditorsPick": false,
      "isMostPopular": false,
      "isMyFavorite": false,
      "next": {
        "__typename": "BriefSolutionNode",
        "slug": "zuo-yi-ti-song-yi-ti-li-kou-shang-bu-shao-lei-si-t",
        "title": "åšä¸€é¢˜é€ä¸€é¢˜ï¼ŒåŠ›æ‰£ä¸Šä¸å°‘ç±»ä¼¼é¢˜"
      },
      "position": 1,
      "prev": null,
      "question": {
        "__typename": "QuestionNode",
        "questionTitleSlug": "make-sum-divisible-by-p"
      },
      "reactionType": null,
      "reactionsV2": [
        {
          "__typename": "ReactionCountNode",
          "count": 7,
          "reactionType": "UPVOTE"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 2,
          "reactionType": "AWESOME"
        }
      ],
      "rewardEnabled": null,
      "slug": "geekplayers-leetcode-ac-qing-xi-yi-dong-1htok",
      "status": "PREPUBLISH",
      "summary": "æ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘çš„LeetCodeä»£ç ä»“åº“ï¼šhttps://github.com/yanglr/leetcode-ac,\næ‰€æœ‰ä»£ç (å«æœ‰å„ç§ä¸»æµè¯­è¨€åŠShellã€SQLç­‰)å·²ä¸Šä¼ åˆ°æ­¤ä»“åº“ã€‚\nç›®å‰å·²å®Œæˆçš„450é“é¢˜éƒ½æœ‰å®Œæ•´ç‰ˆC++ä»£ç ã€‚\n\nå‡ ä¹æ‰€æœ‰é¢˜ç›®éƒ½ä¼šè¿½æ±‚ä¸€é¢˜å¤šè§£å’Œæœ€ä¼˜è§£æ³•ï¼ŒçœŸè¯šæ±‚starï¼\nè§£é¢˜æ€è·¯\né¢˜æ„: åŸæ•°ç»„",
      "sunk": false,
      "tags": [
        {
          "__typename": "CommonTagNode",
          "name": "Hash Table",
          "nameTranslated": "å“ˆå¸Œè¡¨",
          "slug": "hash-table",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Prefix Sum",
          "nameTranslated": "å‰ç¼€å’Œ",
          "slug": "prefix-sum",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "C++",
          "nameTranslated": "",
          "slug": "cpp",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "æ ¡æ‹›",
          "nameTranslated": "",
          "slug": "xiao-zhao",
          "tagType": "ADDITIONAL_TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "é¢˜è§£",
          "nameTranslated": "",
          "slug": "ti-jie",
          "tagType": "ADDITIONAL_TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "æ¯æ—¥ä¸€é¢˜",
          "nameTranslated": "",
          "slug": "mei-ri-yi-ti",
          "tagType": "ADDITIONAL_TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "å¤§å‚é¢è¯•",
          "nameTranslated": "",
          "slug": "da-han-mian-shi",
          "tagType": "ADDITIONAL_TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "æ¯æ—¥æ‰“å¡",
          "nameTranslated": "",
          "slug": "mei-ri-da-qia",
          "tagType": "ADDITIONAL_TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "ç§‹æ‹›",
          "nameTranslated": "",
          "slug": "qiu-zhao",
          "tagType": "ADDITIONAL_TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "åˆ·é¢˜äº¤æµ",
          "nameTranslated": "",
          "slug": "shua-ti-jiao-liu",
          "tagType": "ADDITIONAL_TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "è€ƒç ”",
          "nameTranslated": "",
          "slug": "kao-yan-2",
          "tagType": "ADDITIONAL_TOPIC"
        }
      ],
      "thumbnail": "https://pic.leetcode-cn.com/1633227167-ASqSDC-image.png",
      "title": "æ¸…æ™°æ˜“æ‡‚çš„å‰ç¼€å’Œè§£æ³•(å‡»è´¥98.9%), å«è¯¦ç»†æ³¨é‡Šã€å¤§ç™½æŠ€æœ¯æ§ã€‘",
      "topic": {
        "__typename": "TopicNode",
        "commentCount": 5,
        "id": 1028850,
        "viewCount": 243
      },
      "uuid": "WqrdgO",
      "videosInfo": []
    }
  }
}
