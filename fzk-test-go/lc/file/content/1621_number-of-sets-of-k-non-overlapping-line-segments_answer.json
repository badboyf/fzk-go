{
  "data": {
    "solutionArticle": {
      "__typename": "SolutionArticleNode",
      "author": {
        "__typename": "UserNode",
        "profile": {
          "__typename": "UserProfileNode",
          "realName": "zerotrac ğŸŒ¸",
          "userAvatar": "https://assets.leetcode-cn.com/aliyun-lc-upload/users/zerotrac2/avatar_1628749564.png",
          "userSlug": "zerotrac2"
        },
        "username": "zerotrac2"
      },
      "byLeetcode": false,
      "canEdit": false,
      "canEditReward": false,
      "canSee": true,
      "chargeType": "FREE",
      "content": "#### æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’\n\n**æ€è·¯ä¸ç®—æ³•**\n\nè®° $f[i][j]$ è¡¨ç¤ºä½¿ç”¨ `0 .. i` çš„ç‚¹æ„é€ äº† $j$ æ¡çº¿æ®µçš„æ–¹æ¡ˆæ•°ã€‚æˆ‘ä»¬éœ€è¦åŒºåˆ†ç¬¬ $j$ æ¡çº¿æ®µçš„å³ç«¯ç‚¹æ˜¯å¦å°±æ˜¯ $i$ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘æŠŠ $f[i][j]$ æ‹†åˆ†æˆä¸¤ä¸ªçŠ¶æ€ï¼š\n\n- $f[i][j][0]$ è¡¨ç¤ºç¬¬ $j$ æ¡çº¿æ®µçš„å³ç«¯ç‚¹ä¸æ˜¯ $i$ï¼Œ**ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ²¡æœ‰åŠæ³•ç»§ç»­å»¶é•¿ç¬¬ $j$ æ¡çº¿æ®µ**ï¼›\n\n- $f[i][j][1]$ è¡¨ç¤ºç¬¬ $j$ æ¡çº¿æ®µçš„å³ç«¯ç‚¹å°±æ˜¯ $i$ï¼Œ**ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é€‰æ‹©æ˜¯å¦ç»§ç»­å»¶é•¿ç¬¬ $j$ æ¡çº¿æ®µ**ã€‚\n\nå¦‚ä½•è¿›è¡ŒçŠ¶æ€è½¬ç§»å‘¢ï¼Ÿ\n\né¦–å…ˆè€ƒè™‘ $f[i][j][0]$ï¼Œå› ä¸ºç¬¬ $j$ æ¡çº¿æ®µçš„å³ç«¯ç‚¹ä¸æ˜¯ $i$ï¼Œå› æ­¤ç¬¬ $i$ ä¸ªç‚¹æ²¡æœ‰ç”¨ä¸Šï¼Œé‚£ä¹ˆ `0 .. i-1` çš„ç‚¹æ„é€ äº† $j$ æ¡çº¿æ®µï¼Œå³\n\n$$\nf[i][j][0] = f[i-1][j][0] + f[i-1][j][1]\n$$\n\nå†è€ƒè™‘ $f[i][j][1]$ï¼Œå› ä¸ºç¬¬ $j$ æ¡çº¿æ®µçš„å³ç«¯ç‚¹å°±æ˜¯ $i$ï¼Œå› æ­¤æœ‰ä¸¤ç§æƒ…å†µï¼š\n\n- ç¬¬ $j$ æ¡çº¿æ®µé•¿åº¦ä¸º $1$ï¼Œé‚£ä¹ˆ `0 .. i-1` çš„ç‚¹æ„é€ äº† $j-1$ æ¡çº¿æ®µï¼Œå³\n\n    $$\n    f[i][j][1] = f[i-1][j-1][0] + f[i-1][j-1][1]\n    $$\n\n- ç¬¬ $j$ æ¡çº¿æ®µé•¿åº¦å¤§äº $1$ï¼Œé‚£ä¹ˆåˆ å»ç¬¬ $j$ æ¡çº¿æ®µ `i-1 .. i` çš„è¿™ä¸€éƒ¨åˆ†ï¼Œ`0 .. i-1` çš„ç‚¹ä»ç„¶æ„é€ äº† $j$ æ¡çº¿æ®µï¼Œ**å¹¶ä¸”ç‚¹ $i-1$ æ˜¯å±äºç¬¬ $j$ æ¡çº¿æ®µçš„**ï¼Œå³\n\n    $$\n    f[i][j][1] = f[i-1][j][1]\n    $$\n\nåŠ ä¸Šè¾¹ç•Œæ¡ä»¶ $f[0][0][0] = 1$ï¼Œæœ€ç»ˆç­”æ¡ˆå³ä¸º $f[n-1][k][0] + f[n-1][k][1]$ã€‚\n\n**æ³¨æ„äº‹é¡¹**\n\nåŠ›æ‰£å¯¹ `C++` ä¸æ˜¯å¾ˆå‹å¥½ï¼Œç¼–è¯‘æ—¶åªå¼€ `-O1` ä¼˜åŒ–ï¼Œæ‰€ä»¥ç›´æ¥æ‹¿ `vector<>` å®šä¹‰ä¸‰ç»´æ•°ç»„å¾ˆå®¹æ˜“è¶…æ—¶ã€‚ä¸‹é¢ç»™å‡ºä¸¤ç§è§£å†³æ–¹æ³•ã€‚\n\n**ä»£ç **\n\nç¬¬ä¸€ç§æ˜¯å®šä¹‰æ•°ç»„ï¼Œæ¯æ¬¡åŠ¨æ€è§„åˆ’ä¹‹å‰è®°å¾—æ¸…ç©ºä¸€ä¸‹ã€‚\n\n```C++ [sol11-C++]\nclass Solution {\nprivate:\n    static constexpr int mod = 1000000007;\n    int f[1000][1001][2];\n\npublic:\n    int numberOfSets(int n, int k) {\n        memset(f, 0, sizeof(f));\n        f[0][0][0] = 1;\n        for (int i = 1; i < n; ++i) {\n            for (int j = 0; j <= k; ++j) {\n                f[i][j][0] = (f[i - 1][j][0] + f[i - 1][j][1]) % mod;\n                f[i][j][1] = f[i - 1][j][1];\n                if (j > 0) {\n                    f[i][j][1] += f[i - 1][j - 1][0];\n                    f[i][j][1] %= mod;\n                    f[i][j][1] += f[i - 1][j - 1][1];\n                    f[i][j][1] %= mod;\n                }\n            }\n        }\n        return (f[n - 1][k][0] + f[n - 1][k][1]) % mod;\n    }\n};\n```\n\nç¬¬äºŒç§æ˜¯ä½¿ç”¨ `vector<>` å®šä¹‰ `pair<int, int>` çš„äºŒç»´æ•°ç»„ã€‚\n\n```C++ [sol12-C++]\nclass Solution {\nprivate:\n    static constexpr int mod = 1000000007;\npublic:\n    int numberOfSets(int n, int k) {\n        vector<vector<pair<int, int>>> f(n, vector<pair<int, int>>(k + 1));\n        f[0][0].first = 1;\n        for (int i = 1; i < n; ++i) {\n            for (int j = 0; j <= k; ++j) {\n                f[i][j].first = (f[i - 1][j].first + f[i - 1][j].second) % mod;\n                f[i][j].second = f[i - 1][j].second;\n                if (j > 0) {\n                    f[i][j].second += f[i - 1][j - 1].first;\n                    f[i][j].second %= mod;\n                    f[i][j].second += f[i - 1][j - 1].second;\n                    f[i][j].second %= mod;\n                }\n            }\n        }\n        return (f[n - 1][k].first + f[n - 1][k].second) % mod;\n    }\n};\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(nk)$ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(nk)$ã€‚\n\n#### æ–¹æ³•äºŒï¼šç»„åˆæ•°å­¦\n\n**æ€è·¯ä¸ç®—æ³•**\n\næœ¬æ–¹æ³•å‚è€ƒè‡ªæŸä¸æ„¿é€éœ²å§“åçš„å¤ªé˜³ç¥ã€‚\n\né¢˜ç›®ç­‰ä»·äºæ±‚å‡ºæ»¡è¶³\n\n$$\n0 \\leq l_1 < r_1 \\leq l_2 < r_2 \\leq \\cdots \\leq l_k < r_k < n\n$$\n\nçš„ $(l_1, \\cdots, l_k, r_1, \\cdots, r_k)$ çš„æ•°ç›®ã€‚\n\nä»¤ $l'_i = l_i + (i-1)$ ä»¥åŠ $r'_i = r_i + (i-1)$ï¼Œ$(l'_1, \\cdots, l'_k, r'_1, \\cdots, r'_k)$ ä¸ $(l_1, \\cdots, l_k, r_1, \\cdots, r_k)$ é€ä¸€å¯¹åº”ï¼Œå¹¶ä¸”æ»¡è¶³\n\n$$\n0 \\leq l'_1 < r'_1 < l'_2 < r'_2 < \\cdots < l'_k < r'_k < n+k-1\n$$\n\næ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨ç»„åˆæ±‚è§£æ–¹æ¡ˆæ•°äº†ï¼Œå³åœ¨ $[0, n+k-1)$ å…± $n+k-1$ ä¸ªæ•°ä¸­é€‰æ‹© $2k$ ä¸ªï¼Œå› æ­¤ç­”æ¡ˆä¸º\n\n$$\n\\binom{n+k-1}{2k}\n$$\n\n**ä»£ç **\n\n```C++ [sol2-Python3]\nclass Solution:\n    def numberOfSets(self, n: int, k: int) -> int:\n        return math.comb(n + k - 1, k * 2) % (10**9 + 7)\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼šç”¨äº† `Python` çš„é«˜ç²¾åº¦ï¼Œå°±å½“æ˜¯ $O(k)$ å§ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚",
      "createdAt": "2020-10-17T17:01:36.310217+00:00",
      "hitCount": 4156,
      "identifier": "ahptVb",
      "isEditorsPick": true,
      "isMostPopular": false,
      "isMyFavorite": false,
      "next": {
        "__typename": "BriefSolutionNode",
        "slug": "gao-zhong-shu-xue-pai-lie-zu-he-fang-fa-by-snake_w",
        "title": "é«˜ä¸­æ•°å­¦æ’åˆ—ç»„åˆæ–¹æ³•"
      },
      "position": 1,
      "prev": null,
      "question": {
        "__typename": "QuestionNode",
        "questionTitleSlug": "number-of-sets-of-k-non-overlapping-line-segments"
      },
      "reactionType": null,
      "reactionsV2": [
        {
          "__typename": "ReactionCountNode",
          "count": 46,
          "reactionType": "UPVOTE"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 5,
          "reactionType": "AWESOME"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 1,
          "reactionType": "CONFUSED"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 1,
          "reactionType": "THUMBS_DOWN"
        }
      ],
      "rewardEnabled": null,
      "slug": "da-xiao-wei-k-de-bu-zhong-die-xian-duan-de-shu-mu-",
      "status": "PUBLISHED",
      "summary": "æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’\næ€è·¯ä¸ç®—æ³•\nè®° f[i][j] è¡¨ç¤ºä½¿ç”¨ 0 .. i çš„ç‚¹æ„é€ äº† j æ¡çº¿æ®µçš„æ–¹æ¡ˆæ•°ã€‚æˆ‘ä»¬éœ€è¦åŒºåˆ†ç¬¬ j æ¡çº¿æ®µçš„å³ç«¯ç‚¹æ˜¯å¦å°±æ˜¯ iï¼Œå› æ­¤å¯ä»¥è€ƒè™‘æŠŠ f[i][j] æ‹†åˆ†æˆä¸¤ä¸ªçŠ¶æ€ï¼š\n\n\nf[i][j][0] è¡¨ç¤ºç¬¬ j æ¡çº¿æ®µçš„å³ç«¯ç‚¹ä¸æ˜¯ iï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ²¡æœ‰åŠæ³•ç»§ç»­å»¶é•¿ç¬¬ j æ¡çº¿æ®µï¼›\n\n\nf",
      "sunk": false,
      "tags": [
        {
          "__typename": "CommonTagNode",
          "name": "Math",
          "nameTranslated": "æ•°å­¦",
          "slug": "math",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Dynamic Programming",
          "nameTranslated": "åŠ¨æ€è§„åˆ’",
          "slug": "dynamic-programming",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "C++",
          "nameTranslated": "",
          "slug": "cpp",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Python",
          "nameTranslated": "",
          "slug": "python",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "cpp",
          "nameTranslated": "",
          "slug": "additional_cpp",
          "tagType": "ADDITIONAL_TOPIC"
        }
      ],
      "thumbnail": "",
      "title": "å¤§å°ä¸º K çš„ä¸é‡å çº¿æ®µçš„æ•°ç›®",
      "topic": {
        "__typename": "TopicNode",
        "commentCount": 20,
        "id": 450483,
        "viewCount": 2619
      },
      "uuid": "ahptVb",
      "videosInfo": []
    }
  }
}
