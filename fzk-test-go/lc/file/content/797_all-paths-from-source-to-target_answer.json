{
  "data": {
    "solutionArticle": {
      "__typename": "SolutionArticleNode",
      "author": {
        "__typename": "UserNode",
        "profile": {
          "__typename": "UserProfileNode",
          "realName": "åŠ›æ‰£å®˜æ–¹é¢˜è§£",
          "userAvatar": "https://assets.leetcode-cn.com/aliyun-lc-upload/users/leetcode-solution/avatar_1582018938.png",
          "userSlug": "leetcode-solution"
        },
        "username": "LeetCode-Solution"
      },
      "byLeetcode": true,
      "canEdit": false,
      "canEditReward": false,
      "canSee": true,
      "chargeType": "FREE",
      "content": "### ğŸ“º è§†é¢‘é¢˜è§£\n![32. leetcode 797.mp4](a14edc71-3368-4eaf-93de-1d1f59bdfe2a)\n\n### ğŸ“– æ–‡å­—é¢˜è§£\n#### æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢\n\n**æ€è·¯å’Œç®—æ³•**\n\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼æ±‚å‡ºæ‰€æœ‰å¯èƒ½çš„è·¯å¾„ã€‚å…·ä½“åœ°ï¼Œæˆ‘ä»¬ä» $0$ å·ç‚¹å‡ºå‘ï¼Œä½¿ç”¨æ ˆè®°å½•è·¯å¾„ä¸Šçš„ç‚¹ã€‚æ¯æ¬¡æˆ‘ä»¬éå†åˆ°ç‚¹ $n-1$ï¼Œå°±å°†æ ˆä¸­è®°å½•çš„è·¯å¾„åŠ å…¥åˆ°ç­”æ¡ˆä¸­ã€‚\n\nç‰¹åˆ«åœ°ï¼Œå› ä¸ºæœ¬é¢˜ä¸­çš„å›¾ä¸ºæœ‰å‘æ— ç¯å›¾ï¼ˆ$\\text{DAG}$ï¼‰ï¼Œæœç´¢è¿‡ç¨‹ä¸­ä¸ä¼šåå¤éå†åŒä¸€ä¸ªç‚¹ï¼Œå› æ­¤æˆ‘ä»¬æ— éœ€åˆ¤æ–­å½“å‰ç‚¹æ˜¯å¦éå†è¿‡ã€‚\n\n**ä»£ç **\n\n```C++ [sol1-C++]\nclass Solution {\npublic:\n    vector<vector<int>> ans;\n    vector<int> stk;\n\n    void dfs(vector<vector<int>>& graph, int x, int n) {\n        if (x == n) {\n            ans.push_back(stk);\n            return;\n        }\n        for (auto& y : graph[x]) {\n            stk.push_back(y);\n            dfs(graph, y, n);\n            stk.pop_back();\n        }\n    }\n\n    vector<vector<int>> allPathsSourceTarget(vector<vector<int>>& graph) {\n        stk.push_back(0);\n        dfs(graph, 0, graph.size() - 1);\n        return ans;\n    }\n};\n```\n\n```Java [sol1-Java]\nclass Solution {\n    List<List<Integer>> ans = new ArrayList<List<Integer>>();\n    Deque<Integer> stack = new ArrayDeque<Integer>();\n\n    public List<List<Integer>> allPathsSourceTarget(int[][] graph) {\n        stack.offerLast(0);\n        dfs(graph, 0, graph.length - 1);\n        return ans;\n    }\n\n    public void dfs(int[][] graph, int x, int n) {\n        if (x == n) {\n            ans.add(new ArrayList<Integer>(stack));\n            return;\n        }\n        for (int y : graph[x]) {\n            stack.offerLast(y);\n            dfs(graph, y, n);\n            stack.pollLast();\n        }\n    }\n}\n```\n\n```Python [sol1-Python3]\nclass Solution:\n    def allPathsSourceTarget(self, graph: List[List[int]]) -> List[List[int]]:\n        ans = list()\n        stk = list()\n\n        def dfs(x: int):\n            if x == len(graph) - 1:\n                ans.append(stk[:])\n                return\n            \n            for y in graph[x]:\n                stk.append(y)\n                dfs(y)\n                stk.pop()\n        \n        stk.append(0)\n        dfs(0)\n        return ans\n```\n\n```C [sol1-C]\nint** ans;\nint stk[15];\nint stkSize;\n\nvoid dfs(int x, int n, int** graph, int* graphColSize, int* returnSize, int** returnColumnSizes) {\n    if (x == n) {\n        int* tmp = malloc(sizeof(int) * stkSize);\n        memcpy(tmp, stk, sizeof(int) * stkSize);\n        ans[*returnSize] = tmp;\n        (*returnColumnSizes)[(*returnSize)++] = stkSize;\n        return;\n    }\n    for (int i = 0; i < graphColSize[x]; i++) {\n        int y = graph[x][i];\n        stk[stkSize++] = y;\n        dfs(y, n, graph, graphColSize, returnSize, returnColumnSizes);\n        stkSize--;\n    }\n}\n\nint** allPathsSourceTarget(int** graph, int graphSize, int* graphColSize, int* returnSize, int** returnColumnSizes) {\n    stkSize = 0;\n    stk[stkSize++] = 0;\n    ans = malloc(sizeof(int*) * 16384);\n    *returnSize = 0;\n    *returnColumnSizes = malloc(sizeof(int) * 16384);\n    dfs(0, graphSize - 1, graph, graphColSize, returnSize, returnColumnSizes);\n    return ans;\n}\n```\n\n```go [sol1-Golang]\nfunc allPathsSourceTarget(graph [][]int) (ans [][]int) {\n    stk := []int{0}\n    var dfs func(int)\n    dfs = func(x int) {\n        if x == len(graph)-1 {\n            ans = append(ans, append([]int(nil), stk...))\n            return\n        }\n        for _, y := range graph[x] {\n            stk = append(stk, y)\n            dfs(y)\n            stk = stk[:len(stk)-1]\n        }\n    }\n    dfs(0)\n    return\n}\n```\n\n```JavaScript [sol1-JavaScript]\nvar allPathsSourceTarget = function(graph) {\n    const stack = [], ans = [];\n\n    const dfs = (graph, x, n) => {\n        if (x === n) {\n            ans.push(stack.slice());\n            return;\n        }\n        for (const y of graph[x]) {\n            stack.push(y);\n            dfs(graph, y, n);\n            stack.pop();\n        }\n    }\n\n    stack.push(0);\n    dfs(graph, 0, graph.length - 1);\n    return ans;\n};\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(n \\times 2^n)$ï¼Œå…¶ä¸­ $n$ ä¸ºå›¾ä¸­ç‚¹çš„æ•°é‡ã€‚æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸€ç§æœ€åæƒ…å†µï¼Œå³æ¯ä¸€ä¸ªç‚¹éƒ½å¯ä»¥å»å¾€ç¼–å·æ¯”å®ƒå¤§çš„ç‚¹ã€‚æ­¤æ—¶è·¯å¾„æ•°ä¸º $O(2^n)$ï¼Œä¸”æ¯æ¡è·¯å¾„é•¿åº¦ä¸º $O(n)$ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º $O(n \\times 2^n)$ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œå…¶ä¸­ $n$ ä¸ºç‚¹çš„æ•°é‡ã€‚ä¸»è¦ä¸ºæ ˆç©ºé—´çš„å¼€é”€ã€‚æ³¨æ„è¿”å›å€¼ä¸è®¡å…¥ç©ºé—´å¤æ‚åº¦ã€‚\n---\nå¯¹äºè§†é¢‘ä¸­æåˆ°çš„ã€Œæœ‰å‘æ— ç¯å›¾æ— éœ€æ ‡è®°ã€æ›´ä¸¥è°¨çš„è¡¨è¿°ä¸ºã€Œå°†æœ‰å‘å›¾æ”¹æˆæ— å‘å›¾ã€ï¼Œå¦‚æœéœ€è¦äº†è§£è¯¥é¢˜ç›®æ›´åŠ ç»†è‡´å’Œæ‰©å±•çš„å†…å®¹ï¼Œå°±ç°åœ¨ï¼Œç‚¹å‡»å›¾ç‰‡ç«‹åˆ»å‰å¾€ LeetBookï¼Œæ‰“ç‰¢åŸºç¡€ï¼Œå†²åˆºç§‹æ‹›ï¼\n\n[![image.png](https://pic.leetcode-cn.com/1626759288-qtqMJf-image.png){:style=\"max-height:150px\"}](https://leetcode-cn.com/leetbook/detail/graph/)",
      "createdAt": "2021-08-24T10:57:37.633672+00:00",
      "hitCount": 25509,
      "identifier": "7TtAuw",
      "isEditorsPick": false,
      "isMostPopular": false,
      "isMyFavorite": false,
      "next": {
        "__typename": "BriefSolutionNode",
        "slug": "gong-shui-san-xie-yun-yong-dfs-bao-sou-s-xlz9",
        "title": "ã€å®«æ°´ä¸‰å¶ã€‘è¿ç”¨ DFS çˆ†æœæ‰€æœ‰è·¯å¾„æ–¹æ¡ˆ"
      },
      "position": 1,
      "prev": null,
      "question": {
        "__typename": "QuestionNode",
        "questionTitleSlug": "all-paths-from-source-to-target"
      },
      "reactionType": null,
      "reactionsV2": [
        {
          "__typename": "ReactionCountNode",
          "count": 26,
          "reactionType": "UPVOTE"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 7,
          "reactionType": "AWESOME"
        }
      ],
      "rewardEnabled": null,
      "slug": "suo-you-ke-neng-de-lu-jing-by-leetcode-s-iyoh",
      "status": "PUBLISHED",
      "summary": "ğŸ“º è§†é¢‘é¢˜è§£\nğŸ“– æ–‡å­—é¢˜è§£\n æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢\næ€è·¯å’Œç®—æ³•\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼æ±‚å‡ºæ‰€æœ‰å¯èƒ½çš„è·¯å¾„ã€‚å…·ä½“åœ°ï¼Œæˆ‘ä»¬ä» 0 å·ç‚¹å‡ºå‘ï¼Œä½¿ç”¨æ ˆè®°å½•è·¯å¾„ä¸Šçš„ç‚¹ã€‚æ¯æ¬¡æˆ‘ä»¬éå†åˆ°ç‚¹ n-1ï¼Œå°±å°†æ ˆä¸­è®°å½•çš„è·¯å¾„åŠ å…¥åˆ°ç­”æ¡ˆä¸­ã€‚\nç‰¹åˆ«åœ°ï¼Œå› ä¸ºæœ¬é¢˜ä¸­çš„å›¾ä¸ºæœ‰å‘æ— ç¯å›¾ï¼ˆ\\text{DAG}ï¼‰ï¼Œæœç´¢è¿‡ç¨‹ä¸­ä¸ä¼šåå¤éå†åŒä¸€ä¸ªç‚¹ï¼Œå› ",
      "sunk": false,
      "tags": [
        {
          "__typename": "CommonTagNode",
          "name": "Depth-First Search",
          "nameTranslated": "æ·±åº¦ä¼˜å…ˆæœç´¢",
          "slug": "depth-first-search",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Graph",
          "nameTranslated": "å›¾",
          "slug": "graph",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "C",
          "nameTranslated": "",
          "slug": "c",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "C++",
          "nameTranslated": "",
          "slug": "cpp",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Go",
          "nameTranslated": "",
          "slug": "golang",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Java",
          "nameTranslated": "",
          "slug": "java",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "JavaScript",
          "nameTranslated": "",
          "slug": "javascript",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Python",
          "nameTranslated": "",
          "slug": "python",
          "tagType": "LANGUAGE"
        }
      ],
      "thumbnail": "https://pic.leetcode-cn.com/1626759288-qtqMJf-image.png",
      "title": "æ‰€æœ‰å¯èƒ½çš„è·¯å¾„",
      "topic": {
        "__typename": "TopicNode",
        "commentCount": 104,
        "id": 956408,
        "viewCount": 17606
      },
      "uuid": "7TtAuw",
      "videosInfo": [
        {
          "__typename": "VideoInfoNode",
          "coverUrl": "https://video.leetcode-cn.com/image/cover/3B3E887135514AF6BB59C2899EEA618C-6-2.png",
          "duration": 649.536,
          "videoId": "07b78b154c6b4fb0bc6a085cb16b2f00"
        }
      ]
    }
  }
}
