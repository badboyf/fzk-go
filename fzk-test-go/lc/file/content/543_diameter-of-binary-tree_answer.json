{
  "data": {
    "solutionArticle": {
      "__typename": "SolutionArticleNode",
      "author": {
        "__typename": "UserNode",
        "profile": {
          "__typename": "UserProfileNode",
          "realName": "åŠ›æ‰£å®˜æ–¹é¢˜è§£",
          "userAvatar": "https://assets.leetcode-cn.com/aliyun-lc-upload/users/leetcode-solution/avatar_1582018938.png",
          "userSlug": "leetcode-solution"
        },
        "username": "LeetCode-Solution"
      },
      "byLeetcode": true,
      "canEdit": false,
      "canEditReward": false,
      "canSee": true,
      "chargeType": "FREE",
      "content": "### ğŸ“º è§†é¢‘é¢˜è§£  \n\n![543.äºŒå‰æ ‘å¤§ç›´å¾„.mp4](4b8a128c-41d0-4605-9dc5-fe5f740cc03b)\n\n### ğŸ“– æ–‡å­—é¢˜è§£\n\n#### æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢\n\né¦–å…ˆæˆ‘ä»¬çŸ¥é“ä¸€æ¡è·¯å¾„çš„é•¿åº¦ä¸ºè¯¥è·¯å¾„ç»è¿‡çš„èŠ‚ç‚¹æ•°å‡ä¸€ï¼Œæ‰€ä»¥æ±‚ç›´å¾„ï¼ˆå³æ±‚è·¯å¾„é•¿åº¦çš„æœ€å¤§å€¼ï¼‰ç­‰æ•ˆäºæ±‚è·¯å¾„ç»è¿‡èŠ‚ç‚¹æ•°çš„æœ€å¤§å€¼å‡ä¸€ã€‚\n\nè€Œä»»æ„ä¸€æ¡è·¯å¾„å‡å¯ä»¥è¢«çœ‹ä½œç”±æŸä¸ªèŠ‚ç‚¹ä¸ºèµ·ç‚¹ï¼Œä»å…¶å·¦å„¿å­å’Œå³å„¿å­å‘ä¸‹éå†çš„è·¯å¾„æ‹¼æ¥å¾—åˆ°ã€‚\n\n![543.jpg](https://pic.leetcode-cn.com/f39419c0fd3b3225a643ac4f40a1289c93cb03a6fb07a0be9e763c732a49b47d-543.jpg)\n\nå¦‚å›¾æˆ‘ä»¬å¯ä»¥çŸ¥é“è·¯å¾„ `[9, 4, 2, 5, 7, 8]` å¯ä»¥è¢«çœ‹ä½œä»¥ $2$ ä¸ºèµ·ç‚¹ï¼Œä»å…¶å·¦å„¿å­å‘ä¸‹éå†çš„è·¯å¾„ `[2, 4, 9]` å’Œä»å…¶å³å„¿å­å‘ä¸‹éå†çš„è·¯å¾„ `[2, 5, 7, 8]` æ‹¼æ¥å¾—åˆ°ã€‚\n\nå‡è®¾æˆ‘ä»¬çŸ¥é“å¯¹äºè¯¥èŠ‚ç‚¹çš„å·¦å„¿å­å‘ä¸‹éå†ç»è¿‡æœ€å¤šçš„èŠ‚ç‚¹æ•° $L$ ï¼ˆå³ä»¥å·¦å„¿å­ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦ï¼‰ å’Œå…¶å³å„¿å­å‘ä¸‹éå†ç»è¿‡æœ€å¤šçš„èŠ‚ç‚¹æ•° $R$ ï¼ˆå³ä»¥å³å„¿å­ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦ï¼‰ï¼Œé‚£ä¹ˆä»¥è¯¥èŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„è·¯å¾„ç»è¿‡èŠ‚ç‚¹æ•°çš„æœ€å¤§å€¼å³ä¸º $L+R+1$ ã€‚\n\næˆ‘ä»¬è®°èŠ‚ç‚¹ $\\textit{node}$ ä¸ºèµ·ç‚¹çš„è·¯å¾„ç»è¿‡èŠ‚ç‚¹æ•°çš„æœ€å¤§å€¼ä¸º $d_{\\textit{node}}$ ï¼Œé‚£ä¹ˆäºŒå‰æ ‘çš„ç›´å¾„å°±æ˜¯æ‰€æœ‰èŠ‚ç‚¹ $d_{\\textit{node}}$ çš„æœ€å¤§å€¼å‡ä¸€ã€‚\n\næœ€åçš„ç®—æ³•æµç¨‹ä¸ºï¼šæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•° `depth(node)` è®¡ç®— $d_{\\textit{node}}$ ï¼Œå‡½æ•°è¿”å›è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦ã€‚å…ˆé€’å½’è°ƒç”¨å·¦å„¿å­å’Œå³å„¿å­æ±‚å¾—å®ƒä»¬ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦ $L$ å’Œ $R$ ï¼Œåˆ™è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦å³ä¸º \n\n$$max(L,R)+1$$\n\nè¯¥èŠ‚ç‚¹çš„ $d_{\\textit{node}}$ å€¼ä¸º\n\n$$L+R+1$$\n\né€’å½’æœç´¢æ¯ä¸ªèŠ‚ç‚¹å¹¶è®¾ä¸€ä¸ªå…¨å±€å˜é‡ $ans$ è®°å½• $d_\\textit{node}$ çš„æœ€å¤§å€¼ï¼Œæœ€åè¿”å› `ans-1` å³ä¸ºæ ‘çš„ç›´å¾„ã€‚\n\n```Python [sol1-Python3]\nclass Solution:\n    def diameterOfBinaryTree(self, root: TreeNode) -> int:\n        self.ans = 1\n        def depth(node):\n            # è®¿é—®åˆ°ç©ºèŠ‚ç‚¹äº†ï¼Œè¿”å›0\n            if not node:\n                return 0\n            # å·¦å„¿å­ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦\n            L = depth(node.left)\n            # å³å„¿å­ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦\n            R = depth(node.right)\n            # è®¡ç®—d_nodeå³L+R+1 å¹¶æ›´æ–°ans\n            self.ans = max(self.ans, L + R + 1)\n            # è¿”å›è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦\n            return max(L, R) + 1\n\n        depth(root)\n        return self.ans - 1\n```\n\n```Java [sol1-Java]\nclass Solution {\n    int ans;\n    public int diameterOfBinaryTree(TreeNode root) {\n        ans = 1;\n        depth(root);\n        return ans - 1;\n    }\n    public int depth(TreeNode node) {\n        if (node == null) {\n            return 0; // è®¿é—®åˆ°ç©ºèŠ‚ç‚¹äº†ï¼Œè¿”å›0\n        }\n        int L = depth(node.left); // å·¦å„¿å­ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦\n        int R = depth(node.right); // å³å„¿å­ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦\n        ans = Math.max(ans, L+R+1); // è®¡ç®—d_nodeå³L+R+1 å¹¶æ›´æ–°ans\n        return Math.max(L, R) + 1; // è¿”å›è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦\n    }\n}\n```\n```C++ [sol1-C++]\nclass Solution {\n    int ans;\n    int depth(TreeNode* rt){\n        if (rt == NULL) {\n            return 0; // è®¿é—®åˆ°ç©ºèŠ‚ç‚¹äº†ï¼Œè¿”å›0\n        }\n        int L = depth(rt->left); // å·¦å„¿å­ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦\n        int R = depth(rt->right); // å³å„¿å­ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦\n        ans = max(ans, L + R + 1); // è®¡ç®—d_nodeå³L+R+1 å¹¶æ›´æ–°ans\n        return max(L, R) + 1; // è¿”å›è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘çš„æ·±åº¦\n    }\npublic:\n    int diameterOfBinaryTree(TreeNode* root) {\n        ans = 1;\n        depth(root);\n        return ans - 1;\n    }\n};\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n* æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$ï¼Œå…¶ä¸­ $N$ ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œå³éå†ä¸€æ£µäºŒå‰æ ‘çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ¯ä¸ªç»“ç‚¹åªè¢«è®¿é—®ä¸€æ¬¡ã€‚\n\n* ç©ºé—´å¤æ‚åº¦ï¼š$O(Height)$ï¼Œå…¶ä¸­ $Height$ ä¸ºäºŒå‰æ ‘çš„é«˜åº¦ã€‚ç”±äºé€’å½’å‡½æ•°åœ¨é€’å½’è¿‡ç¨‹ä¸­éœ€è¦ä¸ºæ¯ä¸€å±‚é€’å½’å‡½æ•°åˆ†é…æ ˆç©ºé—´ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦é¢å¤–çš„ç©ºé—´ä¸”è¯¥ç©ºé—´å–å†³äºé€’å½’çš„æ·±åº¦ï¼Œè€Œé€’å½’çš„æ·±åº¦æ˜¾ç„¶ä¸ºäºŒå‰æ ‘çš„é«˜åº¦ï¼Œå¹¶ä¸”æ¯æ¬¡é€’å½’è°ƒç”¨çš„å‡½æ•°é‡Œåˆåªç”¨äº†å¸¸æ•°ä¸ªå˜é‡ï¼Œæ‰€ä»¥æ‰€éœ€ç©ºé—´å¤æ‚åº¦ä¸º $O(Height)$ ã€‚",
      "createdAt": "2020-03-09T02:46:26.474768+00:00",
      "hitCount": 136883,
      "identifier": "oSa1yo",
      "isEditorsPick": false,
      "isMostPopular": false,
      "isMyFavorite": false,
      "next": {
        "__typename": "BriefSolutionNode",
        "slug": "shi-pin-jie-shi-di-gui-dai-ma-de-yun-xing-guo-chen",
        "title": "è¯¦è§£å®˜æ–¹é€’å½’ä»£ç çš„è¿è¡Œè¿‡ç¨‹ï¼ˆPthon3ã€C++ï¼‰"
      },
      "position": 1,
      "prev": null,
      "question": {
        "__typename": "QuestionNode",
        "questionTitleSlug": "diameter-of-binary-tree"
      },
      "reactionType": null,
      "reactionsV2": [
        {
          "__typename": "ReactionCountNode",
          "count": 155,
          "reactionType": "UPVOTE"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 31,
          "reactionType": "AWESOME"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 9,
          "reactionType": "CONFUSED"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 1,
          "reactionType": "THUMBS_DOWN"
        }
      ],
      "rewardEnabled": null,
      "slug": "er-cha-shu-de-zhi-jing-by-leetcode-solution",
      "status": "PUBLISHED",
      "summary": "ğŸ“º è§†é¢‘é¢˜è§£ ğŸ“– æ–‡å­—é¢˜è§£ æ–¹æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ é¦–å…ˆæˆ‘ä»¬çŸ¥é“ä¸€æ¡è·¯å¾„çš„é•¿åº¦ä¸ºè¯¥è·¯å¾„ç»è¿‡çš„èŠ‚ç‚¹æ•°å‡ä¸€ï¼Œæ‰€ä»¥æ±‚ç›´å¾„ï¼ˆå³æ±‚è·¯å¾„é•¿åº¦çš„æœ€å¤§å€¼ï¼‰ç­‰æ•ˆäºæ±‚è·¯å¾„ç»è¿‡èŠ‚ç‚¹æ•°çš„æœ€å¤§å€¼å‡ä¸€ã€‚ è€Œä»»æ„ä¸€æ¡è·¯å¾„å‡å¯ä»¥è¢«çœ‹ä½œç”±æŸä¸ªèŠ‚ç‚¹ä¸ºèµ·ç‚¹ï¼Œä»å…¶å·¦å„¿å­å’Œå³å„¿å­å‘ä¸‹éå†çš„è·¯å¾„æ‹¼æ¥å¾—åˆ°ã€‚ å¦‚å›¾æˆ‘ä»¬å¯ä»¥çŸ¥é“è·¯å¾„ [9, 4, 2, 5, 7, 8]",
      "sunk": false,
      "tags": [
        {
          "__typename": "CommonTagNode",
          "name": "Tree",
          "nameTranslated": "æ ‘",
          "slug": "tree",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Depth-First Search",
          "nameTranslated": "æ·±åº¦ä¼˜å…ˆæœç´¢",
          "slug": "depth-first-search",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "C++",
          "nameTranslated": "",
          "slug": "cpp",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Java",
          "nameTranslated": "",
          "slug": "java",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Python",
          "nameTranslated": "",
          "slug": "python",
          "tagType": "LANGUAGE"
        }
      ],
      "thumbnail": "https://pic.leetcode-cn.com/baf2f6ea1ae76ba383eb1753254340f089dac9f03664f93990d6ae54f8560970-image.png",
      "title": "äºŒå‰æ ‘çš„ç›´å¾„",
      "topic": {
        "__typename": "TopicNode",
        "commentCount": 239,
        "id": 139683,
        "viewCount": 91543
      },
      "uuid": "oSa1yo",
      "videosInfo": [
        {
          "__typename": "VideoInfoNode",
          "coverUrl": "https://video.leetcode-cn.com/image/cover/DE50E92E7F7741B9BCB0DDDBBD443C91-6-2.png",
          "duration": 676.5013,
          "videoId": "6de5c609890749198acfcf5b08b71284"
        }
      ]
    }
  }
}
