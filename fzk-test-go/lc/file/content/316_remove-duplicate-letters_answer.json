{
  "data": {
    "solutionArticle": {
      "__typename": "SolutionArticleNode",
      "author": {
        "__typename": "UserNode",
        "profile": {
          "__typename": "UserProfileNode",
          "realName": "åŠ›æ‰£å®˜æ–¹é¢˜è§£",
          "userAvatar": "https://assets.leetcode-cn.com/aliyun-lc-upload/users/leetcode-solution/avatar_1582018938.png",
          "userSlug": "leetcode-solution"
        },
        "username": "LeetCode-Solution"
      },
      "byLeetcode": true,
      "canEdit": false,
      "canEditReward": false,
      "canSee": true,
      "chargeType": "FREE",
      "content": "### ğŸ“º è§†é¢‘é¢˜è§£  \n![316.å»é™¤é‡å¤å­—æ¯.mp4](8c203512-c2c3-44c8-955b-7303935e8489)\n\n### ğŸ“– æ–‡å­—é¢˜è§£\n#### æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ + å•è°ƒæ ˆ\n\n**æ€è·¯ä¸ç®—æ³•**\n\né¦–å…ˆè€ƒè™‘ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² $s$ï¼Œå¦‚ä½•å»æ‰å…¶ä¸­çš„ä¸€ä¸ªå­—ç¬¦ $\\textit{ch}$ï¼Œä½¿å¾—å¾—åˆ°çš„å­—ç¬¦ä¸²å­—å…¸åºæœ€å°å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæ‰¾å‡ºæœ€å°çš„æ»¡è¶³ $s[i]>s[i+1]$ çš„ä¸‹æ ‡ $i$ï¼Œå¹¶å»é™¤å­—ç¬¦ $s[i]$ã€‚ä¸ºäº†å™è¿°æ–¹ä¾¿ï¼Œä¸‹æ–‡ä¸­ç§°è¿™æ ·çš„å­—ç¬¦ä¸ºã€Œå…³é”®å­—ç¬¦ã€ã€‚\n\nåœ¨ç†è§£è¿™ä¸€ç‚¹ä¹‹åï¼Œå°±å¯ä»¥ç€æ‰‹æœ¬é¢˜äº†ã€‚ä¸€ä¸ªç›´è§‚çš„æ€è·¯æ˜¯ï¼šæˆ‘ä»¬åœ¨å­—ç¬¦ä¸² $s$ ä¸­æ‰¾åˆ°ã€Œå…³é”®å­—ç¬¦ã€ï¼Œå»é™¤å®ƒï¼Œç„¶åä¸æ–­è¿›è¡Œè¿™æ ·çš„å¾ªç¯ã€‚ä½†æ˜¯è¿™ç§æœ´ç´ çš„è§£æ³•ä¼šåˆ›å»ºå¤§é‡çš„ä¸­é—´å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å¯»æ‰¾ä¸€ç§æ›´ä¼˜çš„æ–¹æ³•ã€‚\n\næˆ‘ä»¬ä»å‰å‘åæ‰«æåŸå­—ç¬¦ä¸²ã€‚æ¯æ‰«æåˆ°ä¸€ä¸ªä½ç½®ï¼Œæˆ‘ä»¬å°±å°½å¯èƒ½åœ°å¤„ç†æ‰€æœ‰çš„ã€Œå…³é”®å­—ç¬¦ã€ã€‚å‡å®šåœ¨æ‰«æä½ç½® $s[i-1]$ ä¹‹å‰çš„æ‰€æœ‰ã€Œå…³é”®å­—ç¬¦ã€éƒ½å·²ç»è¢«å»é™¤å®Œæ¯•ï¼Œåœ¨æ‰«æå­—ç¬¦ $s[i]$ æ—¶ï¼Œæ–°å‡ºç°çš„ã€Œå…³é”®å­—ç¬¦ã€åªå¯èƒ½å‡ºç°åœ¨ $s[i]$ æˆ–è€…å…¶åé¢çš„ä½ç½®ã€‚\n\näºæ˜¯ï¼Œæˆ‘ä»¬ä½¿ç”¨å•è°ƒæ ˆæ¥ç»´æŠ¤å»é™¤ã€Œå…³é”®å­—ç¬¦ã€åå¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œå•è°ƒæ ˆæ»¡è¶³æ ˆåº•åˆ°æ ˆé¡¶çš„å­—ç¬¦é€’å¢ã€‚å¦‚æœæ ˆé¡¶å­—ç¬¦å¤§äºå½“å‰å­—ç¬¦ $s[i]$ï¼Œè¯´æ˜æ ˆé¡¶å­—ç¬¦ä¸ºã€Œå…³é”®å­—ç¬¦ã€ï¼Œæ•…åº”å½“è¢«å»é™¤ã€‚å»é™¤åï¼Œæ–°çš„æ ˆé¡¶å­—ç¬¦å°±ä¸ $s[i]$ ç›¸é‚»äº†ï¼Œæˆ‘ä»¬ç»§ç»­æ¯”è¾ƒæ–°çš„æ ˆé¡¶å­—ç¬¦ä¸ $s[i]$ çš„å¤§å°ã€‚é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å­—ç¬¦ä¸å¤§äº $s[i]$ã€‚\n\næˆ‘ä»¬è¿˜é—æ¼äº†ä¸€ä¸ªè¦æ±‚ï¼šåŸå­—ç¬¦ä¸² $s$ ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½éœ€è¦å‡ºç°åœ¨æ–°å­—ç¬¦ä¸²ä¸­ï¼Œä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ä¸ºäº†è®©æ–°å­—ç¬¦ä¸²æ»¡è¶³è¯¥è¦æ±‚ï¼Œä¹‹å‰è®¨è®ºçš„ç®—æ³•éœ€è¦è¿›è¡Œä»¥ä¸‹ä¸¤ç‚¹çš„æ›´æ”¹ã€‚\n\n- åœ¨è€ƒè™‘å­—ç¬¦ $s[i]$ æ—¶ï¼Œå¦‚æœå®ƒå·²ç»å­˜åœ¨äºæ ˆä¸­ï¼Œåˆ™ä¸èƒ½åŠ å…¥å­—ç¬¦ $s[i]$ã€‚ä¸ºæ­¤ï¼Œéœ€è¦è®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°åœ¨æ ˆä¸­ã€‚\n\n- åœ¨å¼¹å‡ºæ ˆé¡¶å­—ç¬¦æ—¶ï¼Œå¦‚æœå­—ç¬¦ä¸²åœ¨åé¢çš„ä½ç½®ä¸Šå†ä¹Ÿæ²¡æœ‰è¿™ä¸€å­—ç¬¦ï¼Œåˆ™ä¸èƒ½å¼¹å‡ºæ ˆé¡¶å­—ç¬¦ã€‚ä¸ºæ­¤ï¼Œéœ€è¦è®°å½•æ¯ä¸ªå­—ç¬¦çš„å‰©ä½™æ•°é‡ï¼Œå½“è¿™ä¸ªå€¼ä¸º $0$ æ—¶ï¼Œå°±ä¸èƒ½å¼¹å‡ºæ ˆé¡¶å­—ç¬¦äº†ã€‚\n\n**ä»£ç **\n\n```C++ [sol1-C++]\nclass Solution {\npublic:\n    string removeDuplicateLetters(string s) {\n        vector<int> vis(26), num(26);\n        for (char ch : s) {\n            num[ch - 'a']++;\n        }\n\n        string stk;\n        for (char ch : s) {\n            if (!vis[ch - 'a']) {\n                while (!stk.empty() && stk.back() > ch) {\n                    if (num[stk.back() - 'a'] > 0) {\n                        vis[stk.back() - 'a'] = 0;\n                        stk.pop_back();\n                    } else {\n                        break;\n                    }\n                }\n                vis[ch - 'a'] = 1;\n                stk.push_back(ch);\n            }\n            num[ch - 'a'] -= 1;\n        }\n        return stk;\n    }\n};\n```\n\n```Java [sol1-Java]\nclass Solution {\n    public String removeDuplicateLetters(String s) {\n        boolean[] vis = new boolean[26];\n        int[] num = new int[26];\n        for (int i = 0; i < s.length(); i++) {\n            num[s.charAt(i) - 'a']++;\n        }\n\n        StringBuffer sb = new StringBuffer();\n        for (int i = 0; i < s.length(); i++) {\n            char ch = s.charAt(i);\n            if (!vis[ch - 'a']) {\n                while (sb.length() > 0 && sb.charAt(sb.length() - 1) > ch) {\n                    if (num[sb.charAt(sb.length() - 1) - 'a'] > 0) {\n                        vis[sb.charAt(sb.length() - 1) - 'a'] = false;\n                        sb.deleteCharAt(sb.length() - 1);\n                    } else {\n                        break;\n                    }\n                }\n                vis[ch - 'a'] = true;\n                sb.append(ch);\n            }\n            num[ch - 'a'] -= 1;\n        }\n        return sb.toString();\n    }\n}\n```\n\n```JavaScript [sol1-JavaScript]\nvar removeDuplicateLetters = function(s) {\n    const vis = new Array(26).fill(0);\n    const num = _.countBy(s);\n    \n    const sb = new Array();\n    for (let i = 0; i < s.length; i++) {\n        const ch = s[i];\n        if (!vis[ch.charCodeAt() - 'a'.charCodeAt()]) {\n            while (sb.length > 0 && sb[sb.length - 1] > ch) {\n                if (num[sb[sb.length - 1]] > 0) {\n                    vis[sb[sb.length - 1].charCodeAt() - 'a'.charCodeAt()] = 0;\n                    sb.pop();\n                } else {\n                    break;\n                }\n            }\n            vis[ch.charCodeAt() - 'a'.charCodeAt()] = 1;\n            sb.push(ch);\n        }\n        num[ch]--;\n    }\n    return sb.join('');\n};\n```\n\n```Go [sol1-Golang]\nfunc removeDuplicateLetters(s string) string {\n    left := [26]int{}\n    for _, ch := range s {\n        left[ch-'a']++\n    }\n    stack := []byte{}\n    inStack := [26]bool{}\n    for i := range s {\n        ch := s[i]\n        if !inStack[ch-'a'] {\n            for len(stack) > 0 && ch < stack[len(stack)-1] {\n                last := stack[len(stack)-1] - 'a'\n                if left[last] == 0 {\n                    break\n                }\n                stack = stack[:len(stack)-1]\n                inStack[last] = false\n            }\n            stack = append(stack, ch)\n            inStack[ch-'a'] = true\n        }\n        left[ch-'a']--\n    }\n    return string(stack)\n}\n```\n\n```C [sol1-C]\nchar* removeDuplicateLetters(char* s) {\n    int vis[26], num[26];\n    memset(vis, 0, sizeof(vis));\n    memset(num, 0, sizeof(num));\n\n    int n = strlen(s);\n    for (int i = 0; i < n; i++) {\n        num[s[i] - 'a']++;\n    }\n\n    char* stk = malloc(sizeof(char) * 27);\n    int stkTop = 0;\n    for (int i = 0; i < n; i++) {\n        if (!vis[s[i] - 'a']) {\n            while (stkTop > 0 && stk[stkTop - 1] > s[i]) {\n                if (num[stk[stkTop - 1] - 'a'] > 0) {\n                    vis[stk[--stkTop] - 'a'] = 0;\n                } else {\n                    break;\n                }\n            }\n            vis[s[i] - 'a'] = 1;\n            stk[stkTop++] = s[i];\n        }\n        num[s[i] - 'a'] -= 1;\n    }\n    stk[stkTop] = '\\0';\n    return stk;\n}\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$ï¼Œå…¶ä¸­ $N$ ä¸ºå­—ç¬¦ä¸²é•¿åº¦ã€‚ä»£ç ä¸­è™½ç„¶æœ‰åŒé‡å¾ªç¯ï¼Œä½†æ˜¯æ¯ä¸ªå­—ç¬¦è‡³å¤šåªä¼šå…¥æ ˆã€å‡ºæ ˆå„ä¸€æ¬¡ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(|\\Sigma|)$ï¼Œå…¶ä¸­ $\\Sigma$ ä¸ºå­—ç¬¦é›†åˆï¼Œæœ¬é¢˜ä¸­å­—ç¬¦å‡ä¸ºå°å†™å­—æ¯ï¼Œæ‰€ä»¥ $|\\Sigma|=26$ã€‚ç”±äºæ ˆä¸­çš„å­—ç¬¦ä¸èƒ½é‡å¤ï¼Œå› æ­¤æ ˆä¸­æœ€å¤šåªèƒ½æœ‰ $|\\Sigma|$ ä¸ªå­—ç¬¦ï¼Œå¦å¤–éœ€è¦ç»´æŠ¤ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«è®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°åœ¨æ ˆä¸­ä»¥åŠæ¯ä¸ªå­—ç¬¦çš„å‰©ä½™æ•°é‡ã€‚",
      "createdAt": "2020-12-19T04:54:25.339565+00:00",
      "hitCount": 68677,
      "identifier": "Mlioo2",
      "isEditorsPick": false,
      "isMostPopular": false,
      "isMyFavorite": false,
      "next": {
        "__typename": "BriefSolutionNode",
        "slug": "yi-zhao-chi-bian-li-kou-si-dao-ti-ma-ma-zai-ye-b-4",
        "title": "ä¸€æ‹›åƒéåŠ›æ‰£å››é“é¢˜ï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘è¢«å¥—è·¯å•¦ï½"
      },
      "position": 1,
      "prev": null,
      "question": {
        "__typename": "QuestionNode",
        "questionTitleSlug": "remove-duplicate-letters"
      },
      "reactionType": null,
      "reactionsV2": [
        {
          "__typename": "ReactionCountNode",
          "count": 102,
          "reactionType": "UPVOTE"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 15,
          "reactionType": "AWESOME"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 8,
          "reactionType": "CONFUSED"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 3,
          "reactionType": "THUMBS_DOWN"
        }
      ],
      "rewardEnabled": null,
      "slug": "qu-chu-zhong-fu-zi-mu-by-leetcode-soluti-vuso",
      "status": "PUBLISHED",
      "summary": "ğŸ“º è§†é¢‘é¢˜è§£ ğŸ“– æ–‡å­—é¢˜è§£ æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ + å•è°ƒæ ˆ æ€è·¯ä¸ç®—æ³• é¦–å…ˆè€ƒè™‘ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² $s$ï¼Œå¦‚ä½•å»æ‰å…¶ä¸­çš„ä¸€ä¸ªå­—ç¬¦ $\\textit{ch}$ï¼Œä½¿å¾—å¾—åˆ°çš„å­—ç¬¦ä¸²å­—å…¸åºæœ€å°å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæ‰¾å‡ºæœ€å°çš„æ»¡è¶³ $s[i]>s[i+1]$ çš„ä¸‹æ ‡ $i$ï¼Œå¹¶å»é™¤å­—ç¬¦ $s[i]$ã€‚ä¸ºäº†å™è¿°æ–¹ä¾¿ï¼Œä¸‹æ–‡ä¸­ç§°è¿™æ ·çš„å­—",
      "sunk": false,
      "tags": [
        {
          "__typename": "CommonTagNode",
          "name": "Stack",
          "nameTranslated": "æ ˆ",
          "slug": "stack",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "String",
          "nameTranslated": "å­—ç¬¦ä¸²",
          "slug": "string",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "C",
          "nameTranslated": "",
          "slug": "c",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "C++",
          "nameTranslated": "",
          "slug": "cpp",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Go",
          "nameTranslated": "",
          "slug": "golang",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Java",
          "nameTranslated": "",
          "slug": "java",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "JavaScript",
          "nameTranslated": "",
          "slug": "javascript",
          "tagType": "LANGUAGE"
        },
        {
          "__typename": "CommonTagNode",
          "name": "Monotonic Stack",
          "nameTranslated": "å•è°ƒæ ˆ",
          "slug": "monotonic-stack",
          "tagType": "TOPIC"
        }
      ],
      "thumbnail": "",
      "title": "å»é™¤é‡å¤å­—æ¯",
      "topic": {
        "__typename": "TopicNode",
        "commentCount": 137,
        "id": 527359,
        "viewCount": 43147
      },
      "uuid": "Mlioo2",
      "videosInfo": [
        {
          "__typename": "VideoInfoNode",
          "coverUrl": "https://video.leetcode-cn.com/image/cover/2F0DB530F4FB4DA290F857BC40B4F561-6-2.png",
          "duration": 868.9706,
          "videoId": "bf841b60a92c440db261d4f226018c66"
        }
      ]
    }
  }
}
