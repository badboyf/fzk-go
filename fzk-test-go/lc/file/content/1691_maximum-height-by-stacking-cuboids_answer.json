{
  "data": {
    "solutionArticle": {
      "__typename": "SolutionArticleNode",
      "author": {
        "__typename": "UserNode",
        "profile": {
          "__typename": "UserProfileNode",
          "realName": "zerotrac ğŸŒ¸",
          "userAvatar": "https://assets.leetcode-cn.com/aliyun-lc-upload/users/zerotrac2/avatar_1628749564.png",
          "userSlug": "zerotrac2"
        },
        "username": "zerotrac2"
      },
      "byLeetcode": false,
      "canEdit": false,
      "canEditReward": false,
      "canSee": true,
      "chargeType": "FREE",
      "content": "#### æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ + è‡ªå®šä¹‰æ’åº\n\n**æ€è·¯ä¸ç®—æ³•**\n\nç”±äºæˆ‘ä»¬è¦æœ€å¤§åŒ–çš„æ˜¯ã€Œé«˜åº¦ã€ï¼Œå› æ­¤å¾ˆå®¹æ˜“æƒ³åˆ°**å°†æ¯ä¸ªé•¿æ–¹ä½“çš„æœ€é•¿è¾¹åšä¸ºé«˜åº¦**æ˜¯æœ€ä¼˜çš„ã€‚ä½†è¿™æ ·åšçœŸçš„æ˜¯å¯¹çš„å—ï¼Ÿ\n\næˆ‘ä»¬å¯ä»¥å°è¯•è¯æ˜è¿™ä¸€ç‚¹ï¼Œcredit to [@han3000](/u/han3000/)ï¼š\n\nå¯¹äºä»»æ„ä¸€ç§å †å æ–¹æ³•ï¼Œå‡è®¾é•¿æ–¹ä½“çš„æ•°ç›®ä¸º $k$ï¼Œè¿™äº›é•¿æ–¹ä½“åˆ†åˆ«ä¸º $(w_1, l_1, h_1), \\cdots, (w_n, l_n, h_n)$ï¼Œå¦‚æœå°†æ¯ä¸€ä¸ªé•¿æ–¹ä½“**å†…éƒ¨çš„ä¸‰æ¡è¾¹æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºé‡æ–°æ’åˆ—**ï¼Œè®°ä¸º $(w_i, l_i, h_i) \\to (w_i', l_i', h_i')$ï¼Œå…¶ä¸­ $w_i', l_i', h_i'$ åˆ†åˆ«æ˜¯ä¸‰è€…ä¸­çš„æœ€å°å€¼ã€ä¸­é—´å€¼ã€æœ€å¤§å€¼ï¼Œé‚£ä¹ˆå¾—åˆ°çš„ $(w_1', l_1', h_1'), \\cdots, (w_n', l_n', h_n')$ ä»ç„¶æ˜¯æ»¡è¶³å †å è¦æ±‚çš„ã€‚\n\nè¯æ˜ç•¥ã€‚å¯¹äºä»»æ„çš„ $j < i$ï¼Œæšä¸¾ä¸€ä¸‹æ‰€æœ‰ $(w_j, l_j, h_j, w_i, l_i, h_i)$ çš„ç›¸å¯¹é¡ºåºå³å¯ã€‚\n\nå½“æ‰€æœ‰é•¿æ–¹ä½“**å†…éƒ¨çš„ä¸‰æ¡è¾¹æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºé‡æ–°æ’åˆ—**ä¹‹åï¼Œç”±äºæ­¤æ—¶é«˜åº¦å¯¹åº”äº†æœ€å¤§å€¼ï¼Œé‚£ä¹ˆæ•´ä¸ªå †å çš„é«˜åº¦ä¹‹å’Œä¸€å®šä¸ä¼šæ¯”é‡æ–°æ’åˆ—ä»¥å‰è¦çŸ®ï¼Œå› æ­¤**æœ€ä¼˜çš„å †å æ–¹æ³•ä¸€å®šæ˜¯åŸºäºé‡æ–°æ’åˆ—çš„**ã€‚\n\né‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆè®¡ç®—è¿™ä¸ªå †å é«˜åº¦å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’å¹¶å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š\n\n$$\nf(i) = \\max_{w_j'\\leq w_i', l_j'\\leq l_i', h_j'\\leq h_i'} \\big\\{ f(j) \\big\\} + h_i\n$$\n\nå…¶ä¸­ $f(i)$ è¡¨ç¤ºä»¥ $(w_i', l_i', h_i')$ ä¸ºæœ€åä¸€ä¸ªé•¿æ–¹ä½“çš„æœ€å¤§é«˜åº¦ã€‚æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æŸä¸ªç´¢å¼• $j$ ä½œä¸ºå€’æ•°ç¬¬äºŒä¸ªé•¿æ–¹ä½“ï¼Œå¹¶ä¸”å®ƒå¯ä»¥æ”¾åœ¨ç¬¬ $i$ ä¸ªé•¿æ–¹ä½“ä¸Šã€‚ç‰¹åˆ«åœ°ï¼Œå¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ç´¢å¼• $j$ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åªæ”¾ç¬¬ $i$ ä¸ªé•¿æ–¹ä½“å°±è¡Œäº†ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ç®€åŒ–ä¸º $f(i) = h_i'$ã€‚æœ€ç»ˆçš„ç­”æ¡ˆå³ä¸º $\\max f$ã€‚\n\nè¦æƒ³å®ç°ä¸Šé¢è¿™ä¸ªåŠ¨æ€è§„åˆ’ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯å½“æšä¸¾åˆ°ç¬¬ $i$ ä¸ªé•¿æ–¹ä½“æ—¶ï¼Œ**æ‰€æœ‰å¯ä»¥å †å åœ¨ç¬¬ $i$ ä¸ªé•¿æ–¹ä½“ä¹‹ä¸Šçš„**é•¿æ–¹ä½“éƒ½åº”è¯¥æšä¸¾è¿‡ï¼Œå› æ­¤åœ¨åŠ¨æ€è§„åˆ’ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†æ‰€æœ‰çš„é•¿æ–¹ä½“æŒ‰ç…§ $(w_i', l_i', h_i')$ ä¸‰ä¸ªå…³é”®å­—è¿›è¡Œå‡åºæ’åºã€‚å…¶å®è¿™é‡Œæœ‰éå¸¸å¤šçš„æ’åºæ–¹æ³•ï¼Œåªè¦ä¿è¯æšä¸¾å…³ç³»çš„æ‹“æ‰‘æ€§å³å¯ï¼Œä¾‹å¦‚æˆ‘ä»¬å¯ä»¥ä»…ä½¿ç”¨ä¸¤ä¸ªå…³é”®å­— $(h_i', w_i'+l_i')$ è¿›è¡Œæ’åºä¹Ÿèƒ½è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚\n\n**ä»£ç **\n\n```C++ [sol1-C++]\nclass Solution {\npublic:\n    int maxHeight(vector<vector<int>>& cuboids) {\n        int n = cuboids.size();\n        for (auto& cubic: cuboids) {\n            sort(cubic.begin(), cubic.end());\n        }\n        \n        // ä¿è¯æšä¸¾å…³ç³»æ‹“æ‰‘æ€§çš„æ’åºéƒ½å¯ä»¥\n        // sort(cuboids.begin(), cuboids.end());\n        sort(cuboids.begin(), cuboids.end(), [](const auto& u, const auto& v) {\n            return pair(u[2], u[0] + u[1]) < pair(v[2], v[0] + v[1]);\n        });\n        \n        vector<int> f(n);\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < i; ++j) {\n                if (cuboids[j][0] <= cuboids[i][0] && cuboids[j][1] <= cuboids[i][1] && cuboids[j][2] <= cuboids[i][2]) {\n                    f[i] = max(f[i], f[j]);\n                }\n            }\n            f[i] += cuboids[i][2];\n        }\n        \n        return *max_element(f.begin(), f.end());\n    }\n};\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚\n\n#### æ–¹æ³•äºŒï¼šæ‡’å¾—æ€è€ƒçš„åŠ¨æ€è§„åˆ’\n\n**æ€è·¯ä¸ç®—æ³•**\n\nå…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥æ”¾å¼ƒæ€è€ƒï¼ŒæŠŠæ¯ä¸€ä¸ª $(w_i, l_i, h_i)$ çš„å…­ç§æ’åˆ—æƒ…å†µå…¨éƒ¨æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­è¿›è¡Œæ’åºï¼Œç„¶åå†åŠ¨æ€è§„åˆ’ã€‚ç”±äºæœ¬é¢˜ $n\\leq 100$ å› æ­¤è¿™æ ·çš„æ–¹æ³•æ˜¯å¯ä»¥é€šè¿‡çš„ï¼Œä½†å¦‚æœ $n \\leq 1000$ æˆ–è€… $2000$ é‚£ä¹ˆå°±åªæœ‰æ–¹æ³•ä¸€å¯ä»¥é€šè¿‡äº†ã€‚\n\n**ä»£ç **\n\n```C++ [sol2-C++]\nclass Solution {\npublic:\n    int maxHeight(vector<vector<int>>& cuboids) {\n        int n = cuboids.size();\n        vector<tuple<int, int, int, int>> v;\n        for (int i = 0; i < n; ++i) {\n            const auto& cubic = cuboids[i];\n            v.emplace_back(cubic[0], cubic[1], cubic[2], i);\n            v.emplace_back(cubic[0], cubic[2], cubic[1], i);\n            v.emplace_back(cubic[1], cubic[0], cubic[2], i);\n            v.emplace_back(cubic[1], cubic[2], cubic[0], i);\n            v.emplace_back(cubic[2], cubic[0], cubic[1], i);\n            v.emplace_back(cubic[2], cubic[1], cubic[0], i);\n        }\n        \n        sort(v.begin(), v.end());\n        \n        vector<int> f(n * 6);\n        for (int i = 0; i < n * 6; ++i) {\n            auto [wi, li, hi, idi] = v[i];\n            for (int j = 0; j < i; ++j) {\n                auto [wj, lj, hj, idj] = v[j];\n                if (wj <= wi && lj <= li && hj <= hi && idj != idi) {\n                    f[i] = max(f[i], f[j]);\n                }\n            }\n            f[i] += hi;\n        }\n        \n        return *max_element(f.begin(), f.end());\n    }\n};\n```\n\n**å¤æ‚åº¦åˆ†æ**\n\n- æ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$ã€‚\n\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ã€‚",
      "createdAt": "2020-12-13T04:51:53.769732+00:00",
      "hitCount": 3953,
      "identifier": "01jFEW",
      "isEditorsPick": false,
      "isMostPopular": false,
      "isMyFavorite": false,
      "next": {
        "__typename": "BriefSolutionNode",
        "slug": "liang-ci-pai-xu-dong-tai-gui-hua-by-luci-al7u",
        "title": "ä¸¤æ¬¡æ’åº+åŠ¨æ€è§„åˆ’"
      },
      "position": 1,
      "prev": null,
      "question": {
        "__typename": "QuestionNode",
        "questionTitleSlug": "maximum-height-by-stacking-cuboids"
      },
      "reactionType": null,
      "reactionsV2": [
        {
          "__typename": "ReactionCountNode",
          "count": 28,
          "reactionType": "UPVOTE"
        },
        {
          "__typename": "ReactionCountNode",
          "count": 1,
          "reactionType": "AWESOME"
        }
      ],
      "rewardEnabled": null,
      "slug": "dui-die-chang-fang-ti-de-zui-da-gao-du-b-qzgy",
      "status": "PUBLISHED",
      "summary": "æ–¹æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ + è‡ªå®šä¹‰æ’åº\næ€è·¯ä¸ç®—æ³•\nç”±äºæˆ‘ä»¬è¦æœ€å¤§åŒ–çš„æ˜¯ã€Œé«˜åº¦ã€ï¼Œå› æ­¤å¾ˆå®¹æ˜“æƒ³åˆ°å°†æ¯ä¸ªé•¿æ–¹ä½“çš„æœ€é•¿è¾¹åšä¸ºé«˜åº¦æ˜¯æœ€ä¼˜çš„ã€‚ä½†è¿™æ ·åšçœŸçš„æ˜¯å¯¹çš„å—ï¼Ÿ\næˆ‘ä»¬å¯ä»¥å°è¯•è¯æ˜è¿™ä¸€ç‚¹ï¼Œcredit to @han3000ï¼š\nå¯¹äºä»»æ„ä¸€ç§å †å æ–¹æ³•ï¼Œå‡è®¾é•¿æ–¹ä½“çš„æ•°ç›®ä¸º kï¼Œè¿™äº›é•¿æ–¹ä½“åˆ†åˆ«ä¸º (w_1, l_1, h_1), \\c",
      "sunk": false,
      "tags": [
        {
          "__typename": "CommonTagNode",
          "name": "Dynamic Programming",
          "nameTranslated": "åŠ¨æ€è§„åˆ’",
          "slug": "dynamic-programming",
          "tagType": "TOPIC"
        },
        {
          "__typename": "CommonTagNode",
          "name": "C++",
          "nameTranslated": "",
          "slug": "cpp",
          "tagType": "LANGUAGE"
        }
      ],
      "thumbnail": "",
      "title": "å †å é•¿æ–¹ä½“çš„æœ€å¤§é«˜åº¦",
      "topic": {
        "__typename": "TopicNode",
        "commentCount": 13,
        "id": 519674,
        "viewCount": 2791
      },
      "uuid": "01jFEW",
      "videosInfo": []
    }
  }
}
